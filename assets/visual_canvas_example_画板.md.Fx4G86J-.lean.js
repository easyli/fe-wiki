import{d as B,s as t,h as v,y as f,o as y,c,j as a,I as k,n as q,a as d,Y as x,a0 as _,F as w,_ as P,a9 as T}from"./chunks/framework.iiD0ugpG.js";import{C as e}from"./chunks/CBtn.BLGuxYzO.js";const W={class:"btns"},S=B({__name:"Draw",setup(F){const i=t(),s=v(()=>i.value?i.value.getContext("2d"):null),n=t(1),E=t(!1),g=t(),h=t(!1),u=()=>{i.value.onmousedown=function(l){E.value=!0,s.value.beginPath(),s.value.moveTo(l.offsetX,l.offsetY)},i.value.onmouseleave=function(){E.value=!1,s.value.closePath()},i.value.onmouseup=function(){E.value=!1,s.value.closePath()},i.value.onmousemove=function(l){if(E.value){var p=l.offsetX,r=l.offsetY;s.value.lineTo(p,r),s.value.stroke()}}},b=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",n.value+=2,s.value.lineWidth=n.value},o=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",n.value-=2,n.value<1&&(n.value=1),s.value.lineWidth=n.value},m=()=>{var l=i.value.toDataURL(),p=document.createElement("a");p.setAttribute("download","签名"),p.href=l,p.click()},C=()=>{s.value.strokeStyle=g.value},D=()=>{h.value=!h.value,h.value?s.value.globalCompositeOperation="destination-out":s.value.globalCompositeOperation="source-over"},A=()=>{s.value.clearRect(0,0,750,600)};return f(()=>{u()}),(l,p)=>(y(),c(w,null,[a("div",W,[k(e,{onClick:b,text:"粗线条"}),k(e,{onClick:o,text:"细线条"}),k(e,{onClick:m,text:"保存签名"}),a("input",{onChange:C,ref_key:"color",ref:g,type:"color",name:""},null,544),k(e,{onClick:D,text:"橡皮擦",class:q(h.value?"active":"")},null,8,["class"]),k(e,{onClick:A,text:"清空画布"})]),a("div",null,[d(" 线宽： "),x(a("input",{"onUpdate:modelValue":p[0]||(p[0]=r=>n.value=r),type:"text"},null,512),[[_,n.value]])]),a("canvas",{ref_key:"canvas",ref:i,width:"750",height:"600"},null,512)],64))}}),O=P(S,[["__scopeId","data-v-991b8f13"]]),V=a("h1",{id:"画板",tabindex:"-1"},[d("画板 "),a("a",{class:"header-anchor",href:"#画板","aria-label":'Permalink to "画板"'},"​")],-1),R=a("h2",{id:"示例",tabindex:"-1"},[d("示例 "),a("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1),Y=T("",6),N=JSON.parse('{"title":"画板","description":"","frontmatter":{},"headers":[],"relativePath":"visual/canvas/example/画板.md","filePath":"visual/canvas/example/画板.md","lastUpdated":1722485984000}'),j={name:"visual/canvas/example/画板.md"},X=Object.assign(j,{setup(F){return(i,s)=>(y(),c("div",null,[V,R,k(O),Y]))}});export{N as __pageData,X as default};
