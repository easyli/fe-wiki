import{d as m,j as t,h as v,k as f,o as D,c as y,l as a,I as k,n as q,a as d,Z as x,a1 as _,F as w,_ as P,a9 as T}from"./chunks/framework.Disn2Jq4.js";import{C as e}from"./chunks/CBtn.Bz60zc9R.js";const W={class:"btns"},S=m({__name:"Draw",setup(C){const i=t(),s=v(()=>i.value?i.value.getContext("2d"):null),n=t(1),r=t(!1),g=t(),h=t(!1),c=()=>{i.value.onmousedown=function(l){r.value=!0,s.value.beginPath(),s.value.moveTo(l.offsetX,l.offsetY)},i.value.onmouseleave=function(){r.value=!1,s.value.closePath()},i.value.onmouseup=function(){r.value=!1,s.value.closePath()},i.value.onmousemove=function(l){if(r.value){var p=l.offsetX,A=l.offsetY;s.value.lineTo(p,A),s.value.stroke()}}},B=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",n.value+=2,s.value.lineWidth=n.value},F=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",n.value-=2,n.value<1&&(n.value=1),s.value.lineWidth=n.value},u=()=>{var l=i.value.toDataURL(),p=document.createElement("a");p.setAttribute("download","签名"),p.href=l,p.click()},b=()=>{s.value.strokeStyle=g.value},o=()=>{h.value=!h.value,h.value?s.value.globalCompositeOperation="destination-out":s.value.globalCompositeOperation="source-over"},E=()=>{s.value.clearRect(0,0,750,600)};return f(()=>{c()}),(l,p)=>(D(),y(w,null,[a("div",W,[k(e,{onClick:B,text:"粗线条"}),k(e,{onClick:F,text:"细线条"}),k(e,{onClick:u,text:"保存签名"}),a("input",{onChange:b,ref_key:"color",ref:g,type:"color",name:""},null,544),k(e,{onClick:o,text:"橡皮擦",class:q(h.value?"active":"")},null,8,["class"]),k(e,{onClick:E,text:"清空画布"})]),a("div",null,[d(" 线宽： "),x(a("input",{"onUpdate:modelValue":p[0]||(p[0]=A=>n.value=A),type:"text"},null,512),[[_,n.value]])]),a("canvas",{ref_key:"canvas",ref:i,width:"750",height:"600"},null,512)],64))}}),O=P(S,[["__scopeId","data-v-991b8f13"]]),V=a("h1",{id:"画板",tabindex:"-1"},[d("画板 "),a("a",{class:"header-anchor",href:"#画板","aria-label":'Permalink to "画板"'},"​")],-1),R=a("h2",{id:"示例",tabindex:"-1"},[d("示例 "),a("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1),j=T("",6),X=JSON.parse('{"title":"画板","description":"","frontmatter":{},"headers":[],"relativePath":"visual/canvas/example/画板.md","filePath":"visual/canvas/example/画板.md","lastUpdated":1722485984000}'),I={name:"visual/canvas/example/画板.md"},Y=Object.assign(I,{setup(C){return(i,s)=>(D(),y("div",null,[V,R,k(O),j]))}});export{X as __pageData,Y as default};
